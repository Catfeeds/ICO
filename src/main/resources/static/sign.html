<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>登录-ICO.TT</title>

    <link href="assets/images/favicon.ico" rel="bookmark" type="image/x-icon">
    <link rel="shortcut icon" href="assets/images/favicon.ico">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap-theme.css" rel="stylesheet">
    <link href="assets/css/iconmoon.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/plugin.css" rel="stylesheet">
    <link href="assets/css/menu.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">
    <link href="assets/css/themetypo.css" rel="stylesheet">
    <link href="assets/css/color.css" rel="stylesheet">
    <link href="assets/css/widget.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <link href="assets/css/sweet-alert.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="wrapper">
    <!-- Header -->
    <header id="main-header">
        <div class="container">
            <div class="main-head">
                <div class="left-side">
                    <div class="logo"><a href="index.html"><img src="assets/images/logo.png" alt=""></a></div>
                    <nav class="navigation" style="font-family: 微软雅黑;">
                        <ul>
                            <li><a href="index.html" class="dropdown active">首页</a></li>
                            <li><a href="listing-grid.html">ICO中</a></li>
                            <li><a href="under.html">即将ICO</a></li>
                            <li><a href="listing.html">已结束ICO</a></li>
                            <li><a href="blogmedium.html">新闻媒体</a></li>
                            <li><a href="sign.html">登录/注册</a></li>
                            <li><a>关于</a><i class="icon-arrow-down8"></i>
                                <ul class="sub-dropdown">
                                    <li><a href="about.html">关于我们</a></li>
                                    <li><a href="services.html">服务与帮助</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>

                </div>
                <div class="right-side">
                </div>
                <div class="mob-nav"></div>
            </div>
        </div>
    </header>
    <!-- Header -->

    <div style="background:url(assets/images/bg-signup.jpg) no-repeat; background-size:100% auto; min-height:157px!important;"
         class="breadcrumb-sec">
        <div class="absolute-sec">
            <div class="container">
                <div class="cs-table">
                    <div class="cs-tablerow">
                        <div class="pageinfo page-title-align-center">
                            <h1 style="color:#fff !important; text-transform:none; text-align:center;">登录/注册</h1>
                            <strong class="title"
                                    style="text-align:center; display:block; color:#fff; font-weight:normal;">快来加入我们的众筹旅程吧!</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main Start -->
    <div id="main">
        <section class="page-section">
            <div class="container">
                <div class="row">
                    <div class="section-fullwidth">
                        <div class="cs-content-holder">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="user-signup">
                                        <!-- Nav tabs -->
                                        <ul class="nav nav-tabs" role="tablist">
                                            <li role="presentation" class="active"><a href="#home" aria-controls="home"
                                                                                      role="tab" id="logina"
                                                                                      data-toggle="tab">登录</a></li>
                                            <li role="presentation"><a href="#profile" aria-controls="profile"
                                                                       role="tab" data-toggle="tab" id="regista">注册</a></li>
                                        </ul>

                                        <!-- Tab panes -->
                                        <div class="tab-content">
                                            <div role="tabpanel" class="tab-pane active" id="home">
                                                <div class="sign-form">
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <form class="signup-form">
                                                                <ul class="row">
                                                                    <li class="col-lg-6 col-md-6 col-sm-6">
                                                                        <label>用户名</label>
                                                                        <input type="text" placeholder=""  onkeydown="keylogin()"
                                                                               id="sign_name">
                                                                    </li>
                                                                    <li class="col-lg-6 col-md-6 col-sm-6">
                                                                        <label>密码</label>
                                                                        <input type="password" placeholder="" onkeydown="keylogin()"
                                                                               id="sign_password">
                                                                    </li>
                                                                    <!--<li class="col-lg-12">-->
                                                                        <!--<a href="#"><i class="icon-question-circle"></i>忘记密码?</a>-->
                                                                    <!--</li>-->
                                                                    <li class="col-lg-12">
                                                                        <input class="cs-bgcolor" type="button"
                                                                               value="登录" id="login">
                                                                    </li>
                                                                </ul>
                                                            </form>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <div class="social-network">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="container devise-box">
                                                                            <div class="row">
                                                                                <div class="left-description">
                                                                                    <div class="des-item item-space row">
                                                                                        <div class="col-md-1">
                                                                                            <img src="assets/images/feature1.png"
                                                                                                 alt="Feature1"/>
                                                                                        </div>
                                                                                        <div class="des-text col-md-9">
                                                                                            <h2>认识潜力区块链项目</h2>
                                                                                            <p>站在行业专家的肩膀上，开阔你的视野</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="des-item item-space row">
                                                                                        <div class="col-md-1">
                                                                                            <img src="assets/images/feature2.png"
                                                                                                 alt="Feature2"/>
                                                                                        </div>
                                                                                        <div class="des-text col-md-9">
                                                                                            <h2>参与ICO可以很简单</h2>
                                                                                            <p>注册、充值、参与，一次到位</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="des-item item-space row">
                                                                                        <div class="col-md-1">
                                                                                            <img src="assets/images/feature3.png"
                                                                                                 alt="Feature3"/>
                                                                                        </div>
                                                                                        <div class="des-text col-md-9">
                                                                                            <h2>支持你看好的技术应用</h2>
                                                                                            <p>见证区块链技术变革，让未来提前到来</p>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <div role="tabpanel" class="tab-pane" id="profile">
                                                <div class="sign-form">
                                                    <div class="row">
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <form class="signup-form">
                                                                <ul class="row">
                                                                    <li class="col-lg-12">
                                                                        <label>电子邮箱</label>
                                                                        <input type="email" placeholder="" id="email" onkeydown="keylogin()">
                                                                    </li>
                                                                    <li class="col-lg-6 col-md-6 col-sm-6">
                                                                        <label>密码</label>
                                                                        <input type="password" placeholder="" onkeydown="keylogin()"
                                                                               id="regist_password">
                                                                    </li>
                                                                    <li class="col-lg-6 col-md-6 col-sm-6">
                                                                        <label>确认密码</label>
                                                                        <input type="password" placeholder="" onkeydown="keylogin()"
                                                                               id="again_password">
                                                                    </li>
                                                                    <li class="col-lg-12">
                                                                        <input class="cs-bgcolor" type="button"
                                                                               value="注册" id="regist">
                                                                    </li>
                                                                </ul>
                                                            </form>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <div class="social-network">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <div class="container devise-box">
                                                                            <div class="row">
                                                                                <div class="left-description">
                                                                                    <div class="des-item item-space row">
                                                                                        <div class="col-md-1">
                                                                                            <img src="assets/images/feature1.png"
                                                                                                 alt="Feature1"/>
                                                                                        </div>
                                                                                        <div class="des-text col-md-9">
                                                                                            <h2>认识潜力区块链项目</h2>
                                                                                            <p>站在行业专家的肩膀上，开阔你的视野</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="des-item item-space row">
                                                                                        <div class="col-md-1">
                                                                                            <img src="assets/images/feature2.png"
                                                                                                 alt="Feature2"/>
                                                                                        </div>
                                                                                        <div class="des-text col-md-9">
                                                                                            <h2>参与ICO可以很简单</h2>
                                                                                            <p>注册、充值、参与，一次到位</p>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="des-item item-space row">
                                                                                        <div class="col-md-1">
                                                                                            <img src="assets/images/feature3.png"
                                                                                                 alt="Feature3"/>
                                                                                        </div>
                                                                                        <div class="des-text col-md-9">
                                                                                            <h2>支持你看好的技术应用</h2>
                                                                                            <p>见证区块链技术变革，让未来提前到来</p>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <footer id="footer-sec">
        <div class="container">
            <aside class="col-lg-4 col-md-4 col-sm-6 widget widget_categories">
                <div class="widget-section-title"><strong class="title">关于我们</strong></div>
                <div style="color: #999;font-weight: 400">
                    <p>ICO.TT是一个专业为ICO项目提供完整服务解决方案的平台，能够帮助投资者更好的了解进行ICO的区块链项目，并且帮助投资者更好的管理自己的投资资金和投资项目。
                        <br>ICO.TT所提供的各项服务的所有权和运营权均归ICO.TT网站所有。ICO.TT用户通过访问或使用本网站，即表示接受并同意网站协议的所有条件和条款。</p>
                </div>
            </aside>
            <aside class="col-lg-4 col-md-4 col-sm-6 widget widget_categories">
                <div class="widget-section-title"><strong class="title">法律说明</strong></div>
                <div style="color: #999;font-weight: 400">
                    <p>ICO.TT的所有运营行为将会尊重客户所在地相关法律和法规，本网站法律声明未涉及的问题参见当地国家有关法律法规，当本声明与当地国家法律法规冲突时，以当地国家法律法规为准。
                        因用户使用本网站而引起或与之相关的一切争议、权利主张或其它事项，均受当地法律法规区域的管辖。
                    </p>
                </div>
            </aside>
            <aside class="col-lg-4 col-md-4 col-sm-6 widget widget_categories">
                <div class="widget-section-title"><strong class="title">联系我们</strong></div>
                <div style="color: #999;font-weight: 400">
                    <p>您的信任是对我们最大的肯定，我们随时为您提供相关服务，敬请关注一下QQ号、微信号或者Email给我们。
                        <br>客服微信号: ICO.TT
                        <br>客服QQ: 2318798407
                        <br>官方QQ群: 389428765
                        <br>Email:2318798407@qq.com
                    </p>
                </div>
            </aside>
        </div>
    </footer>
    <!--// Footer Widget //-->

    <!--// CopyRight //-->
    <div id="copyright">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <div class="footer_icon"><a href="#"><img src="assets/images/footer-logo.png" alt=""></a></div>
                    <div class="fnav-area">
                        <br>
                        <p>© 0000</p>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <!--// CopyRight //-->
</div>
<script src="assets/scripts/jquery.js"></script>
<script src="assets/scripts/modernizr.js"></script>
<script src="assets/scripts/bootstrap.min.js"></script>
<script src="assets/scripts/menu.js"></script>
<script src="assets/scripts/jquery.js"></script>
<script src="assets/scripts/app.js"></script>
<script src="assets/scripts/sweet-alert.js"></script>
<script src="assets/scripts/functions.js"></script>
<script>
    var flag = 1;
    jQuery(window).load(function () {
        $("#login").click(function () {
            login();
        });
        $("#logina").click(function(){
            flag=1;
        });
        $("#regista").click(function(){
            flag=2;
        });
        $("#regist").click(function () {
            regist();
        });

    });
    function regist() {
        var email = $("#email").val().toString();
        var registPassword = $("#regist_password").val().toString();
        var againPassword = $("#again_password").val().toString();
        if (email.length <= 0) {
            app.myAlert("","电子邮箱不能为空!","warning");
            return;
        }
        if (registPassword.length <= 0 || againPassword.length <= 0) {
            app.myAlert("","密码不能为空!","warning");
            return;
        }
        if (registPassword.length <8 || registPassword.length >30) {
            app.myAlert("","密码需为8位以上,30位以下!","warning");
            return;
        }
        if (registPassword != againPassword) {
            app.myAlert("","两次输入的密码不一致!","warning");
            return;
        }
        var registJson = {emailAccount: email, password: registPassword};
        $.ajax({
            url: "/user/register",
            type: 'POST',
            timeout: 10000,//超时时间设置为10秒；
            data: JSON.stringify(registJson),
            dataType: 'json',//服务器返回json格式数据
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                if (result.code == 200) {
                    app.myAlert("","注册成功，请登录!","success","sign.html");
                    $("#sign_name").text(result.data.userInfo.emailAccount);
                }
                else {
                    app.myAlertWithoutFunction("",result.message,"warning");
                    return;
                    console.log("注册失败!");
                }
            },
            error: function (xhr, type, errerThrown) {
                app.myAlertWithoutFunction("","网络异常,请稍候再试!","error");
                return;
            }
        });
    }

    function login(){
        var signName = $("#sign_name").val();
        var signPassword = $("#sign_password").val();
        if (signName.length <= 0) {
            app.myAlertWithoutFunction(" ","用户名不能为空","warning");
            return false;
        }
        if (signPassword.length <= 0) {
            app.myAlertWithoutFunction(" ","密码不能为空","warning");
            return false;
        }
        var json = {emailAccount: signName, password: signPassword};
        $.ajax({
            url: "/auth/login",
            type: 'POST',
            timeout: 10000,//超时时间设置为10秒；
            data: JSON.stringify(json),
            dataType: 'json',//服务器返回json格式数据
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                if (result.code == 200) {
                    app.setUserInfo(result.data.userInfo);
                    app.setToken(result.data.token);
                    location.href = "contect.html";
                }
                else {
                    app.myAlertWithoutFunction("","登录失败!"+result.message,"error");
                }
            },
            error: function (xhr, type, errerThrown) {
                app.myAlertWithoutFunction("","网络异常,请稍候再试!","error");
            }
        });
    }

    function keylogin() {
        if (event.keyCode == 13)
        {
            if(flag ==1){
                setTimeout(function(){
                    login();
                },0);

            }else{
                setTimeout(function(){
                    regist();
                },0);
            }

        }
    }
</script>

</body>
</html>